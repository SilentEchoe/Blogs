---
title: 基础平台架构读后
date: 2025-03-11 11:16:00
tags: [架构,设计,读后]
category: 设计
---

从逻辑上来看，无论多么复杂的自定义函数，都可以通过：

内置函数，比如证书或小数运算(加减乘除，sin/cos等)；

循环和条件分支；

子函数(自定义函数)；

这样对于任意一个具体的计算(自定义函数)来说，都可以用一组指令序列来表达。

> 不管什么样子的交互设备，要做的首要是定义号统一的数据交换协议，这个数据交换机制和网络上两台电脑通过互联网，需要通过某种数据交换协议进行通信，没有实质性的差别。



架构的第一步是需求分析。从需求分析角度来说，关键是要抓住需求的稳定点和变化点。需求的稳定点，往往是系统的核心价值点；需求的变化点，则需要相应去做开放性设计。



过程式编程中最核心的两个概念是结构体(自定义的类型)和过程(也叫函数)。通过结构体对数据进行组合，可以构建出任意复杂的自定义数据结构。通过过程可以抽象出任意复杂的自定义指令，复用以前的成果，简化意图的表达。



函数式本质上是过程式的一种约束，它最核心的主张就是变量不可变，函数尽可能没有副作用(对于通用语言来说，所有函数都没有副作用是不可能的，内部有IO行为的函数就有副作用)。



在过程式编程中，数组是一个最常规的数据结构，但是在函数式中因为变量不可变，对某个下表的数组元素的修改就需要复制整个数组(因为数组作为一个变量它不可变)，非常低效。

所以在函数式编程中需要通过一种复杂的平衡二叉树来实现一个使用洁面(接口)上和过程式语言数组一致的“数组”。



面向对象在过程式的基础上，引入了对象(类)和对象方法(类成员函数)，它主张尽可能把方法(其实就是过程)归纳到合适的对象(类)上，不主张全局函数(过程)。

面向对象的核心思想是引入契约，基于对象这样一个概念对代码的使用洁面进行抽象和封装。它因为清晰的使用界面，某种类型的对象有哪些方法一目了然，而不像过程式编程，数据结构和过程的关系是非常松散的。

面向对象不主张绕过对象的使用接口侵入到对象的内部实现细节。因为这么做破坏类信息的封装，降低类类的可复用性，如果有一天对象的内部实现方式改变了，依赖该对象的相关代码也需要跟着调整。

接口：面向对象至关重要的概念，通过接口，可以优雅实现过程式编程中很费劲才能做到的能力：多态。
