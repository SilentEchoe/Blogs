### 数据应该如何抽象？

简单的数据是不够的，许多程序在设计时就是为了模拟复杂的现象，因此就需要构造一些计算对象。

为什么在程序设计语言中需要复合数据呢？和需要复合过程的原因一样：同样是为了提升我们在设计程序时所位于的概念层次，提高设计的模块性，增强语言的表达能力。正如定义过程的能力使我们有可能在更高的概念层次上处理计算工作一样，能够构造复合数据的能力，也将使我们得以在此比语言提供的基本数据对象更高的概念层次上，处理与数据有关的各种问题。

复合数据的使用可以进一步提高程序的模块性。如果可以直接将有理数本身当作对象的方式下操作它们，那么也就可能把处理有理数的那些程序部分，与有理数如何表示的细节隔离开。这种将程序中处理数据对象的表示的部分，与处理数据对象的使用的部分相互隔离的技术非常具有一般性，形成一种称为**数据抽象**的强有力的设计方法学。

复合对象的使用将真正提高程序设计语言的表达能力。形成“线性组合” ax + by 可能会写成：

```go
func linearCombination(a,b,x,y int) int{
  return (a * x) + (b * y) 
}
```

如果关心的不仅仅是数，希望表述的是基于**加**和**乘**形成线形组合的思想，针对的可以是有理数，复述，多项式或者其他东西，我们可能将其表达成:

```go
func linearCombination(a,b,x,y int) int{
  return add(mul(a,x),mul(b,y))
}

func add(a,b int)int{
  return a+b
}

func mul(a,b int)int{
  return a*b
}
```

这里最关键的是，linearCombination 函数需要知道 abxy所有的操作，它们应该是什么类型的数据，但是对linearCombination函数来说它们是什么类型的数据是无关的。

形成复合数据的关键在于，程序设计语言里应该提供某种"粘合剂"，它们可以把一些数据对象组合起来，形成更复杂的数据对象。



### 闭包

用于组合数据对象的黏合剂不但能用于组合基本的数据对象，同样也可以用于复合的数据对象。复合数据对象能够成为以混合与匹配的方式组合程序模块的方便界面。