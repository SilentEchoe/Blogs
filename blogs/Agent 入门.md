---
title: Agent 入门
date: 2024-11-10 19:51:00
tags: [人工智能,Agent]
category: Agent
---

AI有三种核心能力: 存储，计算和自我学习。

存储能力能让信息保存在物质中，如大脑神经元，深度学习神经网络节点以及计算芯片等。在整个过程中，存储有一个特点：信息独立于物质而存在。

计算能力能让机器能处理和解析这些信息。对于计算来说，信息也是独立于物质而存在。

AI的自我学习能力则是机器通过经验不断优化自身的过程。人类大脑通过反复学习，会形成特定的神经元网络。通过模拟这个过程，AI利用算法快速学习海量的知识和经验，自己设计解决问题的方法，从而完成原本只有人类才能完成的复杂任务——这也是深度学习神经网络的基本原理。

Agent 可以直译为“代理”。Agent是一个能够感知环境，做出决策并采取行动的系统。







如何开发一个Agent？

思维链，ReAct,问题分解。

大模型本质上是一种基于条件概率的数学模型，它们只是根据预设的情境和上下文来生成内容，以此模拟人类的语言和心理状态，但是由于大模型能够通过在上下文预测的过程中生成内容，产生与人类语言相似的语句，创建基于特定上下文的与人类相似的表达方式，因此它们能与智能Agent的目的性行为相适应，成为Agent的逻辑引擎。

泛化是机器学习的一个重要概念，它指的是模型对未见过的数据做出准确预测或合理反应的能力。

基于大模型的自我学习能力，Agent可以不断学习新的知识和经验，优化决策过程。这种自主学习能力是实现高度自主和适应性强的Agent的关键。



构建Agent时，感知力是一个关键的特征，它使得Agent能与周围世界进行交互和理解。这个感知力主要通过两种能力体现——语言交互能力和多模态能力。这两种能力不仅增强了Agent的交互能力，而且提高了Agent理解和处理复杂环境信息的能力。

语言交互时Agent的基础，通过语言交互Agent能理解指令，提出问题，表达观点和情感，进行复杂的对话。语言不仅是字词和句子的组合，还包含了丰富的语境信息，隐含意义等。Agent其中一个能力是创造性生成语言，以适应新的话题和情感。这种生成能力不仅限于文本，还能扩展成生成语音，图片，手势表情等。

**多模态**指能处理来自不同的感官信息，如视觉，听觉，触觉等。同时也能输出多种格式的信息，比如文本，图片，音频，视频等。一个集成多模态模型等Agent可以通过观察一张图片，理解图片中的情感和社会动态，或者通过听到的声音理解语气和情绪。

更重要是，Agent能将不同感官信息整合成一个统一的理解，这对执行复杂任务至关重要。比如自动驾驶Agent需要整合视觉数据(如道路标识和交通灯状态)，听觉数据(车辆鸣笛，警笛声)和触觉数据(车辆速度，方向控制)等，以快速做出决策。

多模态能力还能让Agent进行环境理解和场景构建，通过分析和合成各个感官的信息，Agent可以构建对环境的全面认知，从而应用与救灾，医疗诊断和客户服务等领域。



**工具**

Agent工具包含代码层面的工具调用和物理层面的交互。

例如Agent可以通过调用外部API来执行各种任务，使用维基百科联网搜索某些信息，以获取数据。也可以通过软件工具自动处理复杂的任务，例如分析大量数据。更高级的Agent可以进行系统级的操作。

物理层面的交互通常涉及机器或其他硬件设备，这些设备以接受指令的方式来响应Agent的指令，执行具体的物理操作。这要求具备更高级的硬件控制能力和对物理环境的理解，例如机器人通过视觉和触觉传感器来识别或操纵物体。



场景

个性化推荐：通过分析用户的历史行为，偏好来推荐最适合用户的产品或服务。

AI本身作为搜索引擎和推荐系统的产物，在实现有效的个性化推荐则需要Agent能处理和分析大量数据，同时保护用户的隐私。此外推荐系统可能导致"滤泡效应"，即用户只被推荐它们已经感兴趣的内容，这限制了用户发现新事物的机会。因此Agent需要在个性化和多样性之间寻求平衡，同时采用更加先进和安全的数据处理技术。



AI的应用场景主要是在现有的工作和业务流程中找到应用，优化和自动化已有的工作流程，而不是创造全新的场景。因为AI的本质在于替代或增强人类的工作。在创建初期专注特定，小规模的业务场景，深入解决具体问题，而不是追求建立大型平台，或者希望用AI建立一套全新的商业模式。



Agent包含应该具备规划/决策的能力，以有效地执行复杂任务。这涉及子目标的分解，连续思考(思维链)，自我反思和批评(Self-critics)以及对过去行动的反思(Reflection)

记忆包含短期记忆和长期记忆。短期记忆和上下文有关，属于提示工程的一部分，长期记忆设计信息的长时间保留和检索，通常利用外部向量存储和快速检索。

工具则包含了Agent可能调用的各种工具，比如搜索。由于大模型一旦完成预训练，其内部能力和知识边界基本上就会固定下来，而且难以拓展，因此这些工具才有尤为重要。这些工具可以扩展Agent的能力，使其能够执行更复杂的任务。

执行：Agent基于规划和记忆来执行具体的行动。这可能包括与外部世界互动，或通过调用工具来完成一个动作(任务)。



任务分解包括几种技术：

1.思维链：一种提示技术，通过让模型“一步一步思考”帮助它将大任务分解成小任务，并清楚地解释自己的思考过程。

2.思维树(Tree of Thoughts, ToT)： 通过在每个步骤探索多种推理可能性，进而形成一种树状结构。思维树可以用不同的搜索方法，例如广度优搜索或深度优先搜索。通过提示或投票来评估每个步骤。还包括简单提示，特定任务的指令或人工进行任务分解等。

3.ReAct：这个框架通过结合特定任务的动作和语言空间，让模型能够与环境交互，并生成推理轨迹。

4.Reflexion:使Agent具备动态记忆和自我反思能力的框架。它通过帮助Agent回顾过去的行动来提高推理能力。

5.Coh(Chain of Hindsight):这个方法通过向大模型展示一系列带有反馈的过去输出来鼓励大模型改进自己的输出。



> Agent的能力和效率很大程度上取决于它们能否灵活地调用和利用各种工具，这些工具甚至可以是其他Agent。一个熟练调用工具的Agent能执行更复杂的任务，更好地适应环境变化，以及更有效地解决问题。



模式的输出质量与提供给它的输入信息的质量和结构密切相关。而提示词工程可以提高大模型的输出效率和准确性，通过提示词大模型能够更快地理解问题的本质，并以更高的准确率生成有用的回答。



函数调用(Function Calling)由OpenAI公司提出的一种AI应用开发框架。在这种框架中，大模型被用作调用预定函数的引擎。这里的预定义函数可以用于API调用，数据库查询或其他程序化任务。对于需要与现有系统集成或执行具体技术任务的应用，如自动化脚本或数据分析，此框架非常合适。

> 自问自答框架允许大模型对自己提出问题并回答，以此来深化理解和提高回答质量。这种框架在需要深入分析或创造性解决方案的应用中非常有用，例如创意写作或者复杂查询。

批判修正框架主要用于模拟和实现复杂决策过程。这种框架基于“批判”和“修正”两个核心步骤，通过不断迭代改进来提高系统的性能和决策质量。

批判：系统会评估当前的决策或行为产出，并识别出其中的问题或不足之处。这一过程通常涉及与预设目标或标准的比较，以确定当前输出与期望结果之间的差距。

修正：基于批判步骤中识别的问题，系统在这一步中会调整其决策过程或者行为策略，以期提高输出质量。修正可以是调整现有算法的参数，也可以是采用全新的策略或方法。





使用LangChain 开发一个Agent

LangChain提供的ModeLaboratory(模型实验室)，可以测试并比较不同的模型。
